import{PointerLockControls}from"three/addons/controls/PointerLockControls.js";export function createFPSController(){this.controls=new PointerLockControls(this.camera,document.body);const e=document.getElementById("blocker"),t=document.getElementById("instructions");t.addEventListener("click",(()=>{this.controls.lock()})),this.controls.addEventListener("lock",(function(){t.style.display="none",e.style.display="none"})),this.controls.addEventListener("unlock",(function(){e.style.display="block",t.style.display=""})),this.scene.add(this.controls.getObject());document.addEventListener("keydown",(e=>{switch(e.code){case"ArrowUp":case"KeyW":this.moveForward=!0;break;case"ArrowLeft":case"KeyA":this.moveLeft=!0;break;case"ArrowDown":case"KeyS":this.moveBackward=!0;break;case"ArrowRight":case"KeyD":this.moveRight=!0;break;case"Space":!0===this.canJump&&(this.velocity.y+=350),this.canJump=!1}switch(e.keyCode){case 38:this.kMoveDirection.forward=1;break;case 40:this.kMoveDirection.back=1;break;case 37:this.kMoveDirection.left=1;break;case 39:this.kMoveDirection.right=1}})),document.addEventListener("keyup",(e=>{switch(e.code){case"ArrowUp":case"KeyW":this.moveForward=!1;break;case"ArrowLeft":case"KeyA":this.moveLeft=!1;break;case"ArrowDown":case"KeyS":this.moveBackward=!1;break;case"ArrowRight":case"KeyD":this.moveRight=!1}switch(e.keyCode){case 38:this.kMoveDirection.forward=0;break;case 40:this.kMoveDirection.back=0;break;case 37:this.kMoveDirection.left=0;break;case 39:this.kMoveDirection.right=0}}))}
